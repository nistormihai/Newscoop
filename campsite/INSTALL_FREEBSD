Additional installation notes for FreeBSD

BEFORE INSTALLATION:

1. Campsite requires that you have 'bash' installed, with the bash executable
located at /bin/bash. If you have installed bash from ports you may wish to
simply:
	ln -s /usr/local/bin/bash /bin/bash
2. Campsite requires that you have 'stat' installed. Stat is available from the
FreeBSD ports tree under sysutils/stat.
3. To build under FreeBSD, Campsite requires that you have 'gmake' installed.
gmake is available from the FreeBSD ports tree under devel/gmake.
4. You should of course ensure that all other required Campsite components
as listed in the Campsite manual (apache, mysql, php) are installed and
correctly configured.


INSTALLATION

Follow the installation guide in the Campsite manual -- the installation
procedure on FreeBSD is exactly the same. Pay particular attention to the
following, however:

1. If running the install scripts manually (./configure && make ...) run
gmake instead of make. The latter doesn't accept old syntax of variable
declaration.
2. Be aware that the Campsite installer does its best to pick reasonable
defaults in the configuration of the various modules, but that these should
always be checked by the user. (This applies when installing Campsite on
any architecture). You can change all necessary variables interactively in
the installer.


UNINSTALLATION

Follow the guide in the Campsite manual -- the uninstallation procedure for
FreeBSD is exactly the same.


INSTALLING MULTIPLE INSTANCES

as I am in summarysing my FreeBSD experiences and campsite, I try to 
make my own campsite on FreeBSD howto.

1) Install ports, as it is quite nice to have them.

2) install following apps from ports - as far as I remember this shoud 
satisfy dependencies:
/usr/ports/www/apache2
/usr/ports/www/mod_php4
/usr/ports/shell/bash2
/usr/ports/sysutils/stat
/usr/ports/databases/mysql40-server

3) prepare campsite sources for compilation
# mkdir /usr/local/src
# cd /usr/local/src
# fetch http://www.campware.org/look/campware/download/campsite-2.2.2.tar.gz
# tar -fxz campsite-2.2.2.tar.gz

4) FreeBSD has bash binary in /usr/local/bin, while linux has it in /bin
# ln -s /usr/local/bin/bash /bin/bash

5) You need working virtual host in apache after instalation. Note,
that it is NOT ALLOWED to move campsite to different folder after
installation. If you want so, you have to recompile it using the new
destination.

6) Start install script; now the campsite shall be installed, but you need to
ensure that it starts after reboot. Linux launches it from /etc/rc.d/rc.local
script, however freeBSD ignores this file. Above that the syntax of the file is
not working on FreeBSD.
I decided to forget this file and do the startup in FreeBSD way myself. 
The file can be deleted.
- campsite startup script is in /usr/local/campsite/bin/campsitectl
- FreeBSD expect similar script in /usr/local/etc/rc.d but the script 
needs to have suffix .sh
therefore I just did:
# ln -s /usr/local/campsite/bin/campsitectl /usr/local/etc/rc.d/campsitectl.sh

And that should be it.
-------------------------------------------------------------------------------
Now I will try to write several notes about using multiple campsite 
instances on a single server:
-------------------------------------------------------------------------------
First you need to understand, that instances needs to be independent. 
Therefore you need to have database for each and apache virtual host for 
each.
After you create all of them:
#mysqladmin create campsite1
#mysqladmin create campsite2
.....
and editing conf files in apache
you need to go through above described process for each instance you 
wish to use.
